generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  directUrl    = env("DIRECT_URL")
  relationMode = "foreignKeys"
}

enum UserRole {
  admin
  supervisor
  vendedor_interno
  instalador
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model carros {
  id           BigInt           @id @unique @default(autoincrement())
  nome         String?
  ano_de       BigInt?
  ano_ate      BigInt?
  versao       String?
  montadora_id BigInt?
  foto_url     String?
  imagem       String?
  data_criacao DateTime         @default(now()) @db.Timestamptz(6)
  produtos     carro_produtos[]
  montadora    montadoras?      @relation(fields: [montadora_id], references: [id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model categorias {
  id   BigInt  @id @unique @default(autoincrement())
  nome String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model contatos {
  id           BigInt  @id @unique @default(autoincrement())
  departamento String?
  colaborador  String?
  telefone     String?
  ramal        String?
  email        String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model duvidas {
  id       BigInt  @id @unique @default(autoincrement())
  pergunta String?
  resposta String?
  posicao  BigInt? @default(9999)
  ordem    BigInt? @default(0)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model manuais {
  id           BigInt  @id @unique @default(autoincrement())
  titulo       String?
  conteudo     String?
  ordem        BigInt? @default(0)
  categoria_id BigInt?
  descricao    String?
}

model montadoras {
  id       BigInt   @id @unique @default(autoincrement())
  nome     String?
  logo_url String?
  carros   carros[]
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model produto_fotos {
  id         BigInt  @unique @default(autoincrement())
  produto_id BigInt
  foto_url   String?

  @@id([id, produto_id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model produtos {
  id           BigInt           @id @unique @default(autoincrement())
  nome         String?
  codigo       String?
  foto_url     String?
  video_url    String?
  views        Int?             @default(0) @db.SmallInt
  data_criacao DateTime         @default(now()) @db.Timestamptz(6)
  carros       carro_produtos[]
}

model setores {
  id              BigInt            @id @unique @default(autoincrement())
  nome            String
  descricao       String?
  data_criacao    DateTime          @default(now()) @db.Timestamptz(6)
  usuarios        usuarios[]
  videos_internos videos_internos[]
}

model usuarios {
  id                BigInt            @id @unique @default(autoincrement())
  username          String?
  senha             String?
  nome              String?
  email             String?           @unique
  permissao         String?
  cpf               String?
  telefone          String?
  trocar_senha      BigInt?           @default(1)
  role              UserRole          @default(vendedor_interno)
  setor_id          BigInt?
  avatar_url        String?
  ultimo_acesso     DateTime?         @db.Timestamptz(6)
  setor             setores?          @relation(fields: [setor_id], references: [id])
  videos_criados    videos_internos[] @relation("CriadorVideo")
}

model videos_internos {
  id           BigInt   @id @unique @default(autoincrement())
  titulo       String
  descricao    String?
  url          String
  thumbnail    String?
  setor_id     BigInt?
  criado_por   BigInt?
  ordem        Int      @default(0)
  ativo        Boolean  @default(true)
  data_criacao DateTime @default(now()) @db.Timestamptz(6)
  setor        setores? @relation(fields: [setor_id], references: [id])
  criador      usuarios? @relation("CriadorVideo", fields: [criado_por], references: [id])
}

model videos_rh_procedimentos {
  id           BigInt   @id @unique @default(autoincrement())
  titulo       String
  descricao    String?
  url          String
  categoria    String?
  ordem        Int      @default(0)
  ativo        Boolean  @default(true)
  data_criacao DateTime @default(now()) @db.Timestamptz(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model videos {
  id        BigInt  @id @unique @default(autoincrement())
  titulo    String?
  descricao String?
  url       String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model videos_assistidos {
  id             BigInt    @id @unique @default(autoincrement())
  usuario_id     BigInt?
  video_id       BigInt?
  data_assistido DateTime? @default(now()) @db.Timestamp(6)
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model videos_instalador {
  id        BigInt  @id @unique @default(autoincrement())
  titulo    String?
  descricao String?
  url       String?
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model carro_produtos {
  carro_id   BigInt
  produto_id BigInt
  carro      carros   @relation(fields: [carro_id], references: [id])
  produto    produtos @relation(fields: [produto_id], references: [id])

  @@id([carro_id, produto_id])
  @@map("carro_produtos")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model videos_instalador_montadoras {
  video_id     BigInt?
  montadora_id BigInt?

  @@ignore
}

